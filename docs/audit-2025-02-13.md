# Audit tecnico — 13/02/2025

Verifica dello stato dell’app Club&Player in vista della chiusura MVP e dell’avvio della roadmap post-MVP.

## Ambito

- API opportunità (CRUD, filter, applications).
- Applications (`/api/applications/*`).
- Auth e sessioni (`/auth/callback`, `/api/auth/whoami`).
- Profili (`/api/profiles/*`) e routing pubblico club/atleti.
- UI dashboard (feed, opportunities).
- Permessi base owner_id / created_by.

## Esito

- ✅ Opportunità:
  - `owner_id` come chiave primaria logica.
  - `created_by` mantenuto per compat in lettura.
  - Endpoint `list`, `detail`, `filter`, `mine` verificati.
- ✅ Applications:
  - Rotte `create`, `mine`, `received`, `by opportunity` coerenti.
  - Controlli ownership minimi presenti lato API.
- ✅ Auth:
  - `/auth/callback` centralizzato.
  - `/api/auth/whoami` espone `user.id`, `role`, `profile.account_type`.
- ✅ UI:
  - Feed con profilo, azioni rapide club, trending, suggerimenti.
  - Lista opportunità filtrabile e coerente con le API.
  - Detail opportunità con controllo `owner_id || created_by`.
- ✅ Pulizia:
  - Pagina candidature club consolidata in `/club/applicants` (cartella `(dashboard)`).
  - Rimozione riferimenti legacy incoerenti.

## Debiti (coperti nella roadmap post-MVP)

- Hardening Supabase (RLS avanzata, HIBP, ecc.).
- Email reali (Resend).
- Ottimizzazioni bundle e performance.
- A11y & UX sweep.
- CI E2E quasi-bloccante + artifacts.
- Legal & analytics privacy-safe.

Documento interno al progetto Club&Player.
